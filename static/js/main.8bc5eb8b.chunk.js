(this["webpackJsonpcreate-app"]=this["webpackJsonpcreate-app"]||[]).push([[0],{25:function(e,t,n){e.exports=n(42)},30:function(e,t,n){},32:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},33:function(e,t,n){},35:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(11),o=n.n(c),u=(n(30),n(5)),i=n.n(u),s=n(10),l=n(7),f=(n(32),n(19)),p=n.n(f),g=function(e,t){return b.apply(this,arguments)},h="https://raw.githubusercontent.com/nytimes/covid-19-data/master/us-counties.csv",m=[];function v(e,t,n){for(var a=0;a<e.length;a++){var r=e[a];r.county===t&&r.state===n&&m.push(r)}}function b(){return(b=Object(s.a)(i.a.mark((function e(t,n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(){return new Promise((function(e){return p.a.parse(h,{download:!0,worker:!0,header:!0,complete:function(t){e(t.data)}})}))},e.next=3,a();case 3:return v(e.sent,t,n),e.abrupt("return",m);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d=function(e,t,n){for(var a=e[0].cases,r=0,c=1;c<e.length;c++)r+=e[c].cases-a,a=e[c].cases;return r/e.length/n*1e5};function E(e){return j.apply(this,arguments)}function j(){return(j=Object(s.a)(i.a.mark((function e(t){var n,a,r,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.census.gov/data/2019/pep/charagegroups?get=POP&",a=t.substring(0,2),r=t.substring(2,6),n+="for=county:".concat(r,"&in=state:").concat(a),c=n+"&key=".concat("4ea13d96102d350d26d2f58793cb843a11f667b2"),o=function(){return new Promise((function(e,t){return fetch(c).then((function(e){return e.json()})).then((function(t){return e(t[1][0])})).catch((function(t){return e(console.log(t))}))}))}(),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=function(e){var t=Object(a.useState)(null),n=Object(l.a)(t,2),c=n[0],o=n[1],u=Object(a.useState)("Loading..."),f=Object(l.a)(u,2),p=f[0],g=f[1],h=Object(a.useState)(null),m=Object(l.a)(h,2),v=m[0],b=m[1];Object(a.useEffect)((function(){function t(){return(t=Object(s.a)(i.a.mark((function t(){var n,a,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("object"!==typeof e.aggregation||0===e.aggregation.length||c){t.next=7;break}return n=e.aggregation,a=n[n.length-1].fips,t.next=5,E(a);case 5:r=t.sent,o(r);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e.aggregation]),Object(a.useEffect)((function(){if(v){var e=j[j.length-1].fips,t=d(v,e,c);g(t)}}),[v]);var j=e.aggregation;if(c&&!v){for(var O=[],y=j.length-1;y>j.length-15;y--)O.unshift(j[y]);b(O)}return r.a.createElement("div",null,p)},y=(n(33),function(e){var t;if("object"===typeof e.aggregation&&0!==e.aggregation.length){var n=e.aggregation;t=n[n.length-1].cases,t=parseInt(t).toLocaleString();var a=[e.location[0],e.location[1]],c=a[0],o=a[1];return r.a.createElement("h1",null,t," active cases in ",c,", ",o)}return r.a.createElement("h1",null,"Loading...")});function k(e){var t=e.onLocationChange,n=w(""),c=n.value,o=n.bind,u=(n.reset,Object(a.useCallback)((function(e){e.preventDefault(),t(c)}),[t,c]));return r.a.createElement("form",{onSubmit:u},r.a.createElement("label",null,"County",r.a.createElement("input",Object.assign({type:"text"},o))),r.a.createElement("input",{type:"submit",value:"Submit"}))}var w=function(e){var t=Object(a.useState)(e),n=Object(l.a)(t,2),r=n[0],c=n[1];return{value:r,setValue:c,reset:function(){return c("")},bind:{value:r,onChange:function(e){c(e.target.value)}}}},x=n(45),S=n(46);n(34),n(35);var L=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1],o="Massachusetts",u=Object(a.useState)([]),f=Object(l.a)(u,2),p=f[0],h=f[1];console.log("loc",n),Object(a.useEffect)((function(){function e(){return(e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("LOADING DATA"),e.next=3,g(n,o);case 3:t=e.sent,h(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n&&function(){e.apply(this,arguments)}()}),[n]);var m=r.a.createElement(x.a,{bg:"primary",variant:"dark"},r.a.createElement(x.a.Brand,{href:"#home"},"Covid-19 School Tracker"),r.a.createElement(S.a,{className:"mr-auto"},r.a.createElement(S.a.Link,{href:"#home"},"Home"),r.a.createElement(S.a.Link,{href:"#disclaimer"},"Disclaimer"),r.a.createElement(S.a.Link,{href:"#about"},"About")));return n?r.a.createElement("div",{className:"App"},r.a.createElement("div",null,m,r.a.createElement(y,{aggregation:p,location:[n,o]}),r.a.createElement(O,{aggregation:p}))):r.a.createElement("div",{className:"App"},r.a.createElement("div",null,m,r.a.createElement(k,{onLocationChange:c})))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(L,null)),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.8bc5eb8b.chunk.js.map